<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Portfolio methods for mapme.biodiversity — mapme • mapme.biodiversity</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Portfolio methods for mapme.biodiversity — mapme"><meta name="description" content="mapme_options() sets default options for mapme.biodiversity to control the
behaviour of downstream functions. Mainly, the output path as well as the
chunk size (in ha), can be set. Additionally, the verbosity can be set and
the path to a log directory can be controlled. Might be extended by other
options in the future.
get_resources() data sets required for the
calculation of indicators can be made available. The function supports the
specification of several resource functions. To determine the output path,
temporary directory and verbosity, the output of mapme_options() is used.
calc_indicators() calculates specific biodiversity indicators. A
requirement is that the resources that are mandatory inputs for the requested
indicators are available locally. Multiple indicators and their respective
additional arguments can be supplied.
This function reads and crops available resources to the extent of a single
asset. Specific resources can be queried. If not supplied (the default), all
available resources will be prepared."><meta property="og:description" content="mapme_options() sets default options for mapme.biodiversity to control the
behaviour of downstream functions. Mainly, the output path as well as the
chunk size (in ha), can be set. Additionally, the verbosity can be set and
the path to a log directory can be controlled. Might be extended by other
options in the future.
get_resources() data sets required for the
calculation of indicators can be made available. The function supports the
specification of several resource functions. To determine the output path,
temporary directory and verbosity, the output of mapme_options() is used.
calc_indicators() calculates specific biodiversity indicators. A
requirement is that the resources that are mandatory inputs for the requested
indicators are available locally. Multiple indicators and their respective
additional arguments can be supplied.
This function reads and crops available resources to the extent of a single
asset. Specific resources can be queried. If not supplied (the default), all
available resources will be prepared."><meta property="og:image" content="https://mapme-initiative.github.io/mapme.biodiversity/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mapme.biodiversity</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.9.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/quickstart.html">Quickstart</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/introduction.html">Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/installation.html">Installation</a></li>
    <li><a class="dropdown-item" href="../articles/terminology.html">Terminology</a></li>
    <li><a class="dropdown-item" href="../articles/workflow.html">Workflow</a></li>
    <li><a class="dropdown-item" href="../articles/contributing.html">Contributing</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-how-to-s" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">How To's</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-how-to-s"><li><a class="dropdown-item" href="../articles/output-wide.html">Transform output to wide</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/mapme-initiative/mapme.biodiversity/"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Portfolio methods for mapme.biodiversity</h1>
      <small class="dont-index">Source: <a href="https://github.com/mapme-initiative/mapme.biodiversity/blob/main/R/register.R" class="external-link"><code>R/register.R</code></a>, <a href="https://github.com/mapme-initiative/mapme.biodiversity/blob/main/R/get_resources.R" class="external-link"><code>R/get_resources.R</code></a>, <a href="https://github.com/mapme-initiative/mapme.biodiversity/blob/main/R/calc_indicators.R" class="external-link"><code>R/calc_indicators.R</code></a>, and 1 more</small>
      <div class="d-none name"><code>mapme.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>mapme_options()</code> sets default options for mapme.biodiversity to control the
behaviour of downstream functions. Mainly, the output path as well as the
chunk size (in ha), can be set. Additionally, the verbosity can be set and
the path to a log directory can be controlled. Might be extended by other
options in the future.</p>
<p><code>get_resources()</code> data sets required for the
calculation of indicators can be made available. The function supports the
specification of several resource functions. To determine the output path,
temporary directory and verbosity, the output of <code>mapme_options()</code> is used.</p>
<p><code>calc_indicators()</code> calculates specific biodiversity indicators. A
requirement is that the resources that are mandatory inputs for the requested
indicators are available locally. Multiple indicators and their respective
additional arguments can be supplied.</p>
<p>This function reads and crops available resources to the extent of a single
asset. Specific resources can be queried. If not supplied (the default), all
available resources will be prepared.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">mapme_options</span><span class="op">(</span><span class="va">...</span>, <span class="va">outdir</span>, <span class="va">chunk_size</span>, <span class="va">retries</span>, <span class="va">verbose</span>, <span class="va">log_dir</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">get_resources</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">calc_indicators</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">prep_resources</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  avail_resources <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  resources <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  mode <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"portfolio"</span>, <span class="st">"asset"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>One or more functions for resources/indicators</p></dd>


<dt id="arg-outdir">outdir<a class="anchor" aria-label="anchor" href="#arg-outdir"></a></dt>
<dd><p>A length one character indicating the output path.</p></dd>


<dt id="arg-chunk-size">chunk_size<a class="anchor" aria-label="anchor" href="#arg-chunk-size"></a></dt>
<dd><p>A numeric of length one giving the maximum chunk area in ha.
Defaults to 100,000 ha. It refers to the area of an asset's bounding box.
If it lies above the value <code>chunk_size</code>, splitting and chunking is considered.
An asset will be processes as-is with an bounding box area below the specified
value.</p></dd>


<dt id="arg-retries">retries<a class="anchor" aria-label="anchor" href="#arg-retries"></a></dt>
<dd><p>A numeric of length one indicating the number or re-tries
the package should attempt to make a resource available. Defaults to 3.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>A logical, indicating if informative messages should be printed.</p></dd>


<dt id="arg-log-dir">log_dir<a class="anchor" aria-label="anchor" href="#arg-log-dir"></a></dt>
<dd><p>A character path pointing toward a GDAL-writable destination
used to log erroneous assets. Defaults to NULL, meaning that erroneous
assets will not be serialized to disk. If specified, a GPKG named
<code>file.path(log_dir, paste0(Sys.Date(), "_mapme-error-assets.gpkg"))</code> will
be created and appended to in case of erroneous assets.</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>An <code>sf</code> object with features of type <code>"POLYGON"</code></p></dd>


<dt id="arg-avail-resources">avail_resources<a class="anchor" aria-label="anchor" href="#arg-avail-resources"></a></dt>
<dd><p>A list object of available resources. If NULL (the default),
the available resources will automatically be determined.</p></dd>


<dt id="arg-resources">resources<a class="anchor" aria-label="anchor" href="#arg-resources"></a></dt>
<dd><p>A character vector with the resources to be prepared. If it
it is NULL (the default) all available resources will be prepared.</p></dd>


<dt id="arg-mode">mode<a class="anchor" aria-label="anchor" href="#arg-mode"></a></dt>
<dd><p>A character indicating the reading mode, e.g. either "portfolio"
(the default) or "asset".</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>mapme_options()</code> returns a list of options if no arguments are
specified. Otherwise sets matching arguments to new values in the package's
internal environment.</p>
<p><code>get_resources()</code> is called for its side effect of making resources
available in the package environment. Returns <code>x</code>, invisibly.</p>
<p><code>calc_indicators()</code> returns <code>x</code>, invisibly, with an additional nested
list column per requested indicator.</p>
<p><code>prep_resources()</code> returns a list with prepared vector and raster
resources as <code>sf</code> and <code>SpatRaster</code>-objects.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mapme-initiative.github.io/mapme.biodiversity/">mapme.biodiversity</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">mapme_options</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $outdir</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "/tmp/RtmpTalxgz/mapme-data"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $chunk_size</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1e+08</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $retries</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $verbose</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $log_dir</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="http://dariusgoergen.com/" class="external-link">Darius A. Görgen</a>, Om Prakash Bhandari, Sven Bergtold, <a href="https://mapme-initiative.org/" class="external-link">MAPME-Initiative</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

