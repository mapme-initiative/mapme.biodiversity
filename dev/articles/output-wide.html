<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>How To: Transform indicator output to wide-format • mapme.biodiversity</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="How To: Transform indicator output to wide-format">
<meta name="robots" content="noindex">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mapme.biodiversity</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.9.4.9001</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/quickstart.html">Quickstart</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/introduction.html">Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/installation.html">Installation</a></li>
    <li><a class="dropdown-item" href="../articles/terminology.html">Terminology</a></li>
    <li><a class="dropdown-item" href="../articles/workflow.html">Workflow</a></li>
    <li><a class="dropdown-item" href="../articles/contributing.html">Contributing</a></li>
  </ul>
</li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-how-to-s" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">How To's</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-how-to-s">
<li><a class="dropdown-item" href="../articles/output-wide.html">Transform output to wide</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mapme-initiative/mapme.biodiversity/"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>How To: Transform indicator output to wide-format</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/mapme-initiative/mapme.biodiversity/blob/main/vignettes/output-wide.Rmd" class="external-link"><code>vignettes/output-wide.Rmd</code></a></small>
      <div class="d-none name"><code>output-wide.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mapme-initiative.github.io/mapme.biodiversity/">mapme.biodiversity</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/mapme.html">mapme_options</a></span><span class="op">(</span>verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="objectives">Objectives<a class="anchor" aria-label="anchor" href="#objectives"></a>
</h2>
<p>This tutorial gives you some information how to transform the output
of the mapme-biodiversity package to a wide format for exchange with
other (geospatial-)software, such as QGIS. This is necessary because the
package uses the so-called nested-list format by default to represent
indicators. However, this format is specific to R and to use the data in
other software thus requires some additional steps to be taken. This
vignette shows you how you can change the data layout of your portfolio
that you can easily serialize to a spatial format of your choice and use
with other software.</p>
</div>
<div class="section level2">
<h2 id="what-are-long-vs--wide-tables">What are long vs. wide tables?<a class="anchor" aria-label="anchor" href="#what-are-long-vs--wide-tables"></a>
</h2>
<p>Tabular data can be structured in two different ways, which are
usually referred to as long and wide format. Most people are more
familiar with the wide format, because this is a format we as humans
would naturally structure our data when we work with spreadsheets,
e.g. in Excel. In wide-format, the identifier of a observation is
included exactly once and does not repeat itself (see Table A). In the
long format, the identifier as well as other qualifying variables, might
be repeated several times to uniquely identify each observation in a
single row (see Table B). The long format is often required when
interacting with computers, e.g. to make plots with ggplot2. The content
of the two is exactly the same either way, the one might be just more
friendly to humans than to computers. If you are familiar with the R
tidyverse, you might also have heard of the term <em>tidy</em> data. In
terms of tabular data you can imagine <em>tidy</em> data to be referring
to data in a long table which naturally fulfils the following
requirements:</p>
<ul>
<li>each variable has its own column</li>
<li>each observation has its own row</li>
<li>each value has its own cell</li>
</ul>
<div class="float">
<img src="assets/img/wide-long-tables.png" alt="Fig. 1: Example of a wide and long table holding the same data."><div class="figcaption">Fig. 1: Example of a wide and long table holding
the same data.</div>
</div>
<p>Table A, in that sense, is not <em>tidy</em> since the year variable
is not found in its own column but instead it is scattered in two
different columns. Table B is a long format with each variable being
found in exactly one column. In that sense, each individual row
represents exactly one observation, meaning the observation of a
specific country in a specific year.</p>
<p>When we structure data in the long format the objects will usually
have a larger memory footprint than compared to a wide format. For
smaller objects or data types with small memory consumption, this might
not pose a serious limitation to the workflow. However, geometry
information, here indicated as a WKT string, might quickly accumulate a
large proportion of the available memory, even more so if the portfolio
consists of a high number of complex geometries that are then copied to
fit the the long-format requirement. For that reason, this packages uses
a nested-list format to hold tables for indicators as single columns
within the portfolio. The remainder of this tutorial will show you in
more detail how you can work with those R specific data format.</p>
</div>
<div class="section level2">
<h2 id="the-simple-case---single-row-indicators">The simple case - single-row indicators<a class="anchor" aria-label="anchor" href="#the-simple-case---single-row-indicators"></a>
</h2>
<p>We start by reading a GeoPackage from disk. For the sake of the
argument, we split the original single polygon into 9 distinct polygons
to simulate a realistic portfolio consisting of multiple assets.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">aoi</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html" class="external-link">read_sf</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"sierra_de_neiba_478140_2.gpkg"</span>,</span>
<span>    package <span class="op">=</span> <span class="st">"mapme.biodiversity"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">aoi</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_make_grid.html" class="external-link">st_make_grid</a></span><span class="op">(</span><span class="va">aoi</span>, n <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">aoi</span><span class="op">)</span></span>
<span><span class="co">#&gt; Simple feature collection with 9 features and 0 fields</span></span>
<span><span class="co">#&gt; Geometry type: POLYGON</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -71.80933 ymin: 18.57668 xmax: -71.33201 ymax: 18.69931</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="co">#&gt;                                x</span></span>
<span><span class="co">#&gt; 1 POLYGON ((-71.80933 18.5766...</span></span>
<span><span class="co">#&gt; 2 POLYGON ((-71.65022 18.5766...</span></span>
<span><span class="co">#&gt; 3 POLYGON ((-71.49111 18.5766...</span></span>
<span><span class="co">#&gt; 4 POLYGON ((-71.80933 18.6175...</span></span>
<span><span class="co">#&gt; 5 POLYGON ((-71.65022 18.6175...</span></span>
<span><span class="co">#&gt; 6 POLYGON ((-71.49111 18.6175...</span></span>
<span><span class="co">#&gt; 7 POLYGON ((-71.80933 18.6584...</span></span>
<span><span class="co">#&gt; 8 POLYGON ((-71.65022 18.6584...</span></span>
<span><span class="co">#&gt; 9 POLYGON ((-71.49111 18.6584...</span></span></code></pre></div>
<p>As a simple example, suppose we interested in extracting the average
traveltime to cities between 20,000 and 50,000 inhabitants in our
portfolio. As usual, we will have to make available the Nelson et
al. resource as well as requesting the calculation of the respective
indicator.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">outdir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"mapme-resources"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="va">outdir</span>, showWarnings <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/mapme.html">mapme_options</a></span><span class="op">(</span></span>
<span>  outdir <span class="op">=</span> <span class="va">outdir</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">aoi</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mapme.html">get_resources</a></span><span class="op">(</span><span class="va">aoi</span>, <span class="fu"><a href="../reference/nelson_et_al.html">get_nelson_et_al</a></span><span class="op">(</span>ranges <span class="op">=</span> <span class="st">"100k_200k"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">aoi</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mapme.html">calc_indicators</a></span><span class="op">(</span><span class="va">aoi</span>, <span class="fu"><a href="../reference/traveltime.html">calc_traveltime</a></span><span class="op">(</span>stats <span class="op">=</span> <span class="st">"mean"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">aoi</span><span class="op">)</span></span>
<span><span class="co">#&gt; Simple feature collection with 9 features and 2 fields</span></span>
<span><span class="co">#&gt; Geometry type: POLYGON</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -71.80933 ymin: 18.57668 xmax: -71.33201 ymax: 18.69931</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 9 × 3</span></span></span>
<span><span class="co">#&gt;   assetid traveltime                                                           x</span></span>
<span><span class="co">#&gt;     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>                                                   <span style="color: #949494; font-style: italic;">&lt;POLYGON [°]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>       1 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span> ((-71.80933 18.57668, -71.65022 18.57668, -71.65022 …</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>       2 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span> ((-71.65022 18.57668, -71.49111 18.57668, -71.49111 …</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>       3 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span> ((-71.49111 18.57668, -71.33201 18.57668, -71.33201 …</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>       4 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span> ((-71.80933 18.61756, -71.65022 18.61756, -71.65022 …</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>       5 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span> ((-71.65022 18.61756, -71.49111 18.61756, -71.49111 …</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>       6 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span> ((-71.49111 18.61756, -71.33201 18.61756, -71.33201 …</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span>       7 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span> ((-71.80933 18.65844, -71.65022 18.65844, -71.65022 …</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span>       8 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span> ((-71.65022 18.65844, -71.49111 18.65844, -71.49111 …</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">9</span>       9 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span> ((-71.49111 18.65844, -71.33201 18.65844, -71.33201 …</span></span></code></pre></div>
<p>As we can observe from the output, a new column was added to the
<code>sf</code> object. It is called <code>traveltime</code> and is of
type <code>list</code> indicating that it represents a nested-list
column. What that means is that we are able to maintain the rectangular
shape of our original data (e.g. one polygon per row), while supporting
arbitrarily shaped outputs for indicators. Let’s observe how the
<code>traveltime</code> indicator looks like in this instance:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">aoi</span><span class="op">$</span><span class="va">traveltime</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 4</span></span></span>
<span><span class="co">#&gt;   datetime            variable                  unit    value</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2015-01-01 <span style="color: #949494;">00:00:00</span> 100k_200k_traveltime_mean minutes  206.</span></span></code></pre></div>
<p>From the syntax above, you can see how you can access a single object
within the nested list column (e.g. by using the list accessor
<code>[[</code>). In this case, the shape of the <code>traveltime</code>
indicator is a single-row and two-column tibble with the average minutes
and the distance category as its value. We can now use either of two
functions to transform the portfolio to long or wide formats:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/portfolio.html">portfolio_long</a></span><span class="op">(</span><span class="va">aoi</span><span class="op">)</span></span>
<span><span class="co">#&gt; Simple feature collection with 9 features and 6 fields</span></span>
<span><span class="co">#&gt; Geometry type: POLYGON</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -71.80933 ymin: 18.57668 xmax: -71.33201 ymax: 18.69931</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 9 × 7</span></span></span>
<span><span class="co">#&gt;   assetid indicator  datetime            variable                  unit    value</span></span>
<span><span class="co">#&gt;     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>       1 traveltime 2015-01-01 <span style="color: #949494;">00:00:00</span> 100k_200k_traveltime_mean minutes  206.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>       2 traveltime 2015-01-01 <span style="color: #949494;">00:00:00</span> 100k_200k_traveltime_mean minutes  273.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>       3 traveltime 2015-01-01 <span style="color: #949494;">00:00:00</span> 100k_200k_traveltime_mean minutes  283.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>       4 traveltime 2015-01-01 <span style="color: #949494;">00:00:00</span> 100k_200k_traveltime_mean minutes  237.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>       5 traveltime 2015-01-01 <span style="color: #949494;">00:00:00</span> 100k_200k_traveltime_mean minutes  308.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>       6 traveltime 2015-01-01 <span style="color: #949494;">00:00:00</span> 100k_200k_traveltime_mean minutes  265.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span>       7 traveltime 2015-01-01 <span style="color: #949494;">00:00:00</span> 100k_200k_traveltime_mean minutes  287.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span>       8 traveltime 2015-01-01 <span style="color: #949494;">00:00:00</span> 100k_200k_traveltime_mean minutes  299.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">9</span>       9 traveltime 2015-01-01 <span style="color: #949494;">00:00:00</span> 100k_200k_traveltime_mean minutes  235.</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: x &lt;POLYGON [°]&gt;</span></span></span>
<span><span class="fu"><a href="../reference/portfolio.html">portfolio_wide</a></span><span class="op">(</span><span class="va">aoi</span><span class="op">)</span></span>
<span><span class="co">#&gt; Simple feature collection with 9 features and 2 fields</span></span>
<span><span class="co">#&gt; Geometry type: POLYGON</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -71.80933 ymin: 18.57668 xmax: -71.33201 ymax: 18.69931</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 9 × 3</span></span></span>
<span><span class="co">#&gt;   assetid traveltime_2015-01-01_100k_200k_traveltime…¹                         x</span></span>
<span><span class="co">#&gt;     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                                        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;POLYGON [°]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>       1                                         206. ((-71.80933 18.57668, -7…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>       2                                         273. ((-71.65022 18.57668, -7…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>       3                                         283. ((-71.49111 18.57668, -7…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>       4                                         237. ((-71.80933 18.61756, -7…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>       5                                         308. ((-71.65022 18.61756, -7…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>       6                                         265. ((-71.49111 18.61756, -7…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span>       7                                         287. ((-71.80933 18.65844, -7…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span>       8                                         299. ((-71.65022 18.65844, -7…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">9</span>       9                                         235. ((-71.49111 18.65844, -7…</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ abbreviated name:</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ¹​`traveltime_2015-01-01_100k_200k_traveltime_mean_minutes`</span></span></span></code></pre></div>
<p>Both function will, by default, automatically detect nested-list
columns and change the data layout. In this case, the result still has 9
rows just like the original data frame because the indicator
<code>traveltime</code> consisted of just a single row per asset.</p>
<p>We could serialize the object to disk in either format by calling
<code><a href="../reference/portfolio.html">write_portfolio()</a></code> with the respective <code>format</code>
argument:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dsn_long</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".gpkg"</span><span class="op">)</span></span>
<span><span class="va">dsn_wide</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".gpkg"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/portfolio.html">write_portfolio</a></span><span class="op">(</span><span class="va">aoi</span>, <span class="va">dsn_long</span>, format <span class="op">=</span> <span class="st">"long"</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/portfolio.html">write_portfolio</a></span><span class="op">(</span><span class="va">aoi</span>, <span class="va">dsn_wide</span>, format <span class="op">=</span> <span class="st">"wide"</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="the-harder-case---indicators-with-multi-row-output">The harder case - indicators with multi-row output<a class="anchor" aria-label="anchor" href="#the-harder-case---indicators-with-multi-row-output"></a>
</h2>
<p>Let’s continue to query an indicator which has a multi-row output,
i.e. precipitation statistics from <a href="https://www.worldclim.org/" class="external-link">WorldClim</a>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">aoi</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mapme.html">get_resources</a></span><span class="op">(</span><span class="va">aoi</span>, <span class="fu"><a href="../reference/worldclim_precipitation.html">get_worldclim_precipitation</a></span><span class="op">(</span>years <span class="op">=</span> <span class="fl">2018</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">aoi</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mapme.html">calc_indicators</a></span><span class="op">(</span><span class="va">aoi</span>, <span class="fu"><a href="../reference/precipitation_wc.html">calc_precipitation_wc</a></span><span class="op">(</span>stats <span class="op">=</span> <span class="st">"mean"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">aoi</span><span class="op">)</span></span>
<span><span class="co">#&gt; Simple feature collection with 9 features and 3 fields</span></span>
<span><span class="co">#&gt; Geometry type: POLYGON</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -71.80933 ymin: 18.57668 xmax: -71.33201 ymax: 18.69931</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 9 × 4</span></span></span>
<span><span class="co">#&gt;   assetid traveltime       precipitation_wc                                    x</span></span>
<span><span class="co">#&gt;     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>                                  <span style="color: #949494; font-style: italic;">&lt;POLYGON [°]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>       1 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span> <span style="color: #949494;">&lt;tibble [12 × 4]&gt;</span> ((-71.80933 18.57668, -71.65022 18…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>       2 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span> <span style="color: #949494;">&lt;tibble [12 × 4]&gt;</span> ((-71.65022 18.57668, -71.49111 18…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>       3 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span> <span style="color: #949494;">&lt;tibble [12 × 4]&gt;</span> ((-71.49111 18.57668, -71.33201 18…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>       4 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span> <span style="color: #949494;">&lt;tibble [12 × 4]&gt;</span> ((-71.80933 18.61756, -71.65022 18…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>       5 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span> <span style="color: #949494;">&lt;tibble [12 × 4]&gt;</span> ((-71.65022 18.61756, -71.49111 18…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>       6 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span> <span style="color: #949494;">&lt;tibble [12 × 4]&gt;</span> ((-71.49111 18.61756, -71.33201 18…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span>       7 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span> <span style="color: #949494;">&lt;tibble [12 × 4]&gt;</span> ((-71.80933 18.65844, -71.65022 18…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span>       8 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span> <span style="color: #949494;">&lt;tibble [12 × 4]&gt;</span> ((-71.65022 18.65844, -71.49111 18…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">9</span>       9 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span> <span style="color: #949494;">&lt;tibble [12 × 4]&gt;</span> ((-71.49111 18.65844, -71.33201 18…</span></span></code></pre></div>
<p>We see that in addition to the <code>traveltime</code> indicator, we
now obtained an additional nested-list column called
<code>precipitation_wc</code>. Note, however, the differences in the
shape of the indicator tibble when we take a closer look for a specific
asset:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">aoi</span><span class="op">$</span><span class="va">precipitation_wc</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 12 × 4</span></span></span>
<span><span class="co">#&gt;    datetime            variable            unit  value</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 2018-01-01 <span style="color: #949494;">00:00:00</span> worldclim_prec_mean mm      <span style="color: #BB0000;">NaN</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 2018-02-01 <span style="color: #949494;">00:00:00</span> worldclim_prec_mean mm      <span style="color: #BB0000;">NaN</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 2018-03-01 <span style="color: #949494;">00:00:00</span> worldclim_prec_mean mm      <span style="color: #BB0000;">NaN</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 2018-04-01 <span style="color: #949494;">00:00:00</span> worldclim_prec_mean mm      <span style="color: #BB0000;">NaN</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 2018-05-01 <span style="color: #949494;">00:00:00</span> worldclim_prec_mean mm      <span style="color: #BB0000;">NaN</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 2018-06-01 <span style="color: #949494;">00:00:00</span> worldclim_prec_mean mm      <span style="color: #BB0000;">NaN</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 2018-07-01 <span style="color: #949494;">00:00:00</span> worldclim_prec_mean mm      <span style="color: #BB0000;">NaN</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 2018-08-01 <span style="color: #949494;">00:00:00</span> worldclim_prec_mean mm      <span style="color: #BB0000;">NaN</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 2018-09-01 <span style="color: #949494;">00:00:00</span> worldclim_prec_mean mm      <span style="color: #BB0000;">NaN</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 2018-10-01 <span style="color: #949494;">00:00:00</span> worldclim_prec_mean mm      <span style="color: #BB0000;">NaN</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> 2018-11-01 <span style="color: #949494;">00:00:00</span> worldclim_prec_mean mm      <span style="color: #BB0000;">NaN</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> 2018-12-01 <span style="color: #949494;">00:00:00</span> worldclim_prec_mean mm      <span style="color: #BB0000;">NaN</span></span></span></code></pre></div>
<p>For a single asset, we obtain a tibble with 12 rows (for each month
in the queried year 2018). Now, let’s have a look at what happens if we
transform this table to long format, this time specifically requesting
to only extract the <code>precipitation_wc</code> indicators:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/portfolio.html">portfolio_long</a></span><span class="op">(</span><span class="va">aoi</span>, indicators <span class="op">=</span> <span class="st">"precipitation_wc"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Simple feature collection with 108 features and 7 fields</span></span>
<span><span class="co">#&gt; Geometry type: POLYGON</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -71.80933 ymin: 18.57668 xmax: -71.33201 ymax: 18.69931</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 108 × 8</span></span></span>
<span><span class="co">#&gt;    assetid traveltime       indicator   datetime            variable unit  value</span></span>
<span><span class="co">#&gt;      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>       1 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span> precipitat… 2018-01-01 <span style="color: #949494;">00:00:00</span> worldcl… mm      <span style="color: #BB0000;">NaN</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>       1 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span> precipitat… 2018-02-01 <span style="color: #949494;">00:00:00</span> worldcl… mm      <span style="color: #BB0000;">NaN</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>       1 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span> precipitat… 2018-03-01 <span style="color: #949494;">00:00:00</span> worldcl… mm      <span style="color: #BB0000;">NaN</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>       1 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span> precipitat… 2018-04-01 <span style="color: #949494;">00:00:00</span> worldcl… mm      <span style="color: #BB0000;">NaN</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>       1 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span> precipitat… 2018-05-01 <span style="color: #949494;">00:00:00</span> worldcl… mm      <span style="color: #BB0000;">NaN</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>       1 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span> precipitat… 2018-06-01 <span style="color: #949494;">00:00:00</span> worldcl… mm      <span style="color: #BB0000;">NaN</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>       1 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span> precipitat… 2018-07-01 <span style="color: #949494;">00:00:00</span> worldcl… mm      <span style="color: #BB0000;">NaN</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>       1 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span> precipitat… 2018-08-01 <span style="color: #949494;">00:00:00</span> worldcl… mm      <span style="color: #BB0000;">NaN</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>       1 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span> precipitat… 2018-09-01 <span style="color: #949494;">00:00:00</span> worldcl… mm      <span style="color: #BB0000;">NaN</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>       1 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span> precipitat… 2018-10-01 <span style="color: #949494;">00:00:00</span> worldcl… mm      <span style="color: #BB0000;">NaN</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 98 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: x &lt;POLYGON [°]&gt;</span></span></span></code></pre></div>
<p>Instead of 9 rows, we get a tibble with 108 rows (9 assets * 12),
with the metadata for each asset with the geometry column and other
identifying values being repeated 12 times each. For very large
portfolios, this data layout might be very memory intensive. In these
cases it might be more favourable to transform the portfolio to a wide
layout.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/portfolio.html">portfolio_wide</a></span><span class="op">(</span><span class="va">aoi</span>, indicators <span class="op">=</span> <span class="st">"precipitation_wc"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Simple feature collection with 9 features and 14 fields</span></span>
<span><span class="co">#&gt; Geometry type: POLYGON</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -71.80933 ymin: 18.57668 xmax: -71.33201 ymax: 18.69931</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 9 × 15</span></span></span>
<span><span class="co">#&gt;   assetid traveltime       precipitation_wc_2018-01-01_…¹ precipitation_wc_201…²</span></span>
<span><span class="co">#&gt;     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>                                    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>       1 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span>                          <span style="color: #BB0000;">NaN</span>                    <span style="color: #BB0000;">NaN</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>       2 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span>                           29                     27.2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>       3 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span>                           24.4                   24.0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>       4 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span>                           31.9                   28.0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>       5 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span>                           28.5                   28.2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>       6 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span>                           18.9                   21.1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span>       7 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span>                           24.4                   24.2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span>       8 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span>                           19.3                   21.0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">9</span>       9 <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span>                          <span style="color: #BB0000;">NaN</span>                    <span style="color: #BB0000;">NaN</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ abbreviated names: ¹​`precipitation_wc_2018-01-01_worldclim_prec_mean_mm`,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ²​`precipitation_wc_2018-02-01_worldclim_prec_mean_mm`</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 11 more variables:</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `precipitation_wc_2018-03-01_worldclim_prec_mean_mm` &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `precipitation_wc_2018-04-01_worldclim_prec_mean_mm` &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `precipitation_wc_2018-05-01_worldclim_prec_mean_mm` &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `precipitation_wc_2018-06-01_worldclim_prec_mean_mm` &lt;dbl&gt;, …</span></span></span></code></pre></div>
<p>From the example output above we see that in this case, we obtain a
resulting object with 9 rows only. The indicator data is now found in
the respective columns which are named according to this schema:</p>
<p><code>&lt;indicator-name&gt;_&lt;datetime&gt;_&lt;variable&gt;_&lt;unit&gt;</code></p>
<p>with the values being found in the rows for each unique combination
of this pattern.</p>
<p>Note, that the <code>traveltime</code> still is represented as a
nested-list column. When serializing to disk, all present indicators are
going to extracted in order to be able to serialize to spatial data
formats. If it is not desired to include certain indicators you will
have to subset the portfolio as indicated in the following code
block:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dsn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".gpkg"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/portfolio.html">write_portfolio</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">aoi</span>, <span class="va">traveltime</span><span class="op">)</span>, <span class="va">dsn</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="http://dariusgoergen.com/" class="external-link">Darius A. Görgen</a>, Om Prakash Bhandari, Sven Bergtold, <a href="https://mapme-initiative.org/" class="external-link">MAPME-Initiative</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
